name: Run CentOS Job

on:
  workflow_dispatch:

jobs:
  centos-job:
    name: Run inside CentOS
    runs-on: ubuntu-latest   # GitHub runner, but the job runs inside the container
    container:
      image: centos:7        # You can change to centos:8 or rockylinux etc.
    outputs:
      centos_message: ${{ steps.set_output.outputs.message }}

    steps:
      - name: Check OS version
        id: check
        run: |
          echo "Running inside container:"
          cat /etc/os-release

      - name: Set workflow output
        id: set_output
        run: |
          MESSAGE="This job is running inside CentOS!"
          echo "message=$MESSAGE" >> $GITHUB_OUTPUT
          echo "$MESSAGE"

  print-output:
    needs: centos-job
    runs-on: ubuntu-latest
    steps:
      - name: Display output from CentOS job
        run: |
          echo "Output from CentOS job:"
          echo "${{ needs.centos-job.outputs.centos_message }}"
          
